# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Nastia Calendar.

## –¢–µ—Å—Ç—ã –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏

### 1. Unit-—Ç–µ—Å—Ç—ã (`test-deduplication.js`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–π –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–æ–Ω (toZonedDate)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–Ω—è (getBerlinDayKey)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ ID (hasNotificationById)
- ‚úÖ –ü–æ–∏—Å–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (getLatestNotificationForDay)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–ø—É—Å–∫:**
```bash
node scripts/test-deduplication.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:
   ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: 5
   ‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: 1
   üìà –û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç: 83%
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç (`test-integration.js`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:
- ‚úÖ –ü–µ—Ä–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–∏–Ω –¥–µ–Ω—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- ‚úÖ –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å —Ä–∞–∑—Ä–µ—à—ë–Ω
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ–≥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ó–∞–ø—É—Å–∫:**
```bash
node scripts/test-integration.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéâ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

üìù –í—ã–≤–æ–¥—ã:
  1. ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –¥–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  2. ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ ID —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  3. ‚úÖ –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –æ–¥–∏–Ω –¥–µ–Ω—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
  4. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
  5. ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
```

## –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤

### 3. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è fallback —Å–æ–æ–±—â–µ–Ω–∏–π (`test-notification-texts.js`)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å fallback —Ç–µ–∫—Å—Ç–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–µ–π):

**–ó–∞–ø—É—Å–∫:**
```bash
node scripts/test-notification-texts.js
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- 11 —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –§–æ—Ä–º–∞—Ç Title + Body + URL
- –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤ –≤ —Å–∏–º–≤–æ–ª–∞—Ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
- –°–∏–º—É–ª—è—Ü–∏—é —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë –°–¢–ê–¢–ò–°–¢–ò–ö–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô                                                       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë –í—Å–µ–≥–æ —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: 12                                                  ‚ïë
‚ïë –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞: 16 —Å–∏–º–≤–æ–ª–æ–≤                                         ‚ïë
‚ïë –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ç–µ–ª–∞: 74 —Å–∏–º–≤–æ–ª–æ–≤                                              ‚ïë
‚ïë –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ body: 66 —Å–∏–º–≤–æ–ª–æ–≤                                          ‚ïë
‚ïë –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ body: 82 —Å–∏–º–≤–æ–ª–æ–≤                                         ‚ïë
‚ïë –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å —ç–º–æ–¥–∑–∏: 12 –∏–∑ 12                                               ‚ïë
‚ïë –õ–∏–º–∏—Ç body: 120 —Å–∏–º–≤–æ–ª–æ–≤                                                     ‚ïë
‚ïë –õ–∏–º–∏—Ç title: 40 —Å–∏–º–≤–æ–ª–æ–≤                                                     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### 4. –†–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Claude API (`test-real-generation.js`)

**‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç CLAUDE_API_KEY!**

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–Ω–µ–≤–Ω–æ–π –≥–æ—Ä–æ—Å–∫–æ–ø
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –º—ã—Å–ª—å –¥–ª—è morning brief
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 4 —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ API –∫–ª—é—á–∞:**
```bash
export CLAUDE_API_KEY=sk-ant-api03-xxx...
```

**–ó–∞–ø—É—Å–∫:**
```bash
node scripts/test-real-generation.js
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  –¢–ï–°–¢ –†–ï–ê–õ–¨–ù–û–ô –ì–ï–ù–ï–†–ê–¶–ò–ò –ß–ï–†–ï–ó CLAUDE API
  Model: claude-haiku-4-5
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üìÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç:
   –°–µ–≥–æ–¥–Ω—è: 2 –Ω–æ—è–±—Ä—è
   –ü—Ä–æ–≥–Ω–æ–∑ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏: 5 –Ω–æ—è–±—Ä—è (—á–µ—Ä–µ–∑ 3 –¥–Ω—è)
   –î–æ –æ–≤—É–ª—è—Ü–∏–∏: 12 –¥–Ω–µ–π

ü§ñ –ì–µ–Ω–µ—Ä–∏—Ä—É—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Claude API...

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
1/4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è morning_brief...
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–Ω–µ–≤–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞...

üìñ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üî• –ù–∞—Å—Ç—è, —Å–µ–≥–æ–¥–Ω—è –∑–≤—ë–∑–¥—ã —Ä–µ—à–∏–ª–∏ —É—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–±–µ —ç–∫–∑–∞–º–µ–Ω –Ω–∞ –≤—ã–∂–∏–≤–∞–Ω–∏–µ...
[–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≥–æ—Ä–æ—Å–∫–æ–ø–∞ 2 –∞–±–∑–∞—Ü–∞]
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–®–∞–≥ 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π –º—ã—Å–ª–∏ –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è...

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1/4: MORNING_BRIEF                                                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è∞ 06:45 Berlin time                                                          ‚îÇ
‚îÇ üìù –£—Ç—Ä–µ–Ω–Ω–∏–π –∂–∏—Ç–µ–π—Å–∫–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø                                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üì¨ TITLE:                                                                    ‚îÇ
‚îÇ   –î–µ–Ω—å –≤—ã–∂–∏–≤–∞–Ω–∏—è                                                             ‚îÇ
‚îÇ   (15 —Å–∏–º–≤–æ–ª–æ–≤)                                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üí¨ BODY:                                                                     ‚îÇ
‚îÇ   –ù–∞—Å—Ç—è, —Å–µ–≥–æ–¥–Ω—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Å—å –¥–µ–Ω—å ‚Äî –¥–µ—Ä–∂–∏—Å—å –∫—Ä–µ–ø—á–µ, –≤–µ—á–µ—Ä–æ–º –ø–æ–ª–µ–≥—á–∞–µ—Ç!   ‚îÇ
‚îÇ   üò§                                                                         ‚îÇ
‚îÇ   (79 —Å–∏–º–≤–æ–ª–æ–≤)                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:**

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ - –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã!

```bash
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
node scripts/test-real-generation.js > output1.txt

# –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ (—á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É)
node scripts/test-real-generation.js > output2.txt

# –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
diff output1.txt output2.txt
```

## Preview mode –¥–ª—è sendNotifications.js

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è morning brief –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

```bash
node scripts/sendNotifications.js --preview-morning-brief
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "title": "–£—Ç—Ä–µ–Ω–Ω–∏–π –ø–∏–Ω–æ–∫",
  "body": "–ù–∞—Å—Ç—è, —Å–µ–≥–æ–¥–Ω—è –≤—ã–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ –≥—Ä–∞–Ω–∏ ‚Äî —Ç–µ—Ä–ø–∏, –≤–µ—á–µ—Ä–æ–º –ø–æ–ª–µ–≥—á–∞–µ—Ç, –æ–±–µ—â–∞–µ–º! üí•",
  "url": "https://segigu.github.io/nastia-calendar/?open=daily-horoscope"
}
```

## –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ |
|-----|----------|---------|
| `morning_brief` | –£—Ç—Ä–µ–Ω–Ω–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø (–∂–∏—Ç–µ–π—Å–∫–∏–π —è–∑—ã–∫) | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 06:45 Berlin |
| `fertile_window` | –§–µ—Ä—Ç–∏–ª—å–Ω–æ–µ –æ–∫–Ω–æ | 5 –¥–Ω–µ–π –¥–æ –æ–≤—É–ª—è—Ü–∏–∏ |
| `ovulation_day` | –î–µ–Ω—å –æ–≤—É–ª—è—Ü–∏–∏ | –†–∞–∑ –≤ —Ü–∏–∫–ª |
| `period_forecast` | –ü—Ä–æ–≥–Ω–æ–∑ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏ | –ó–∞ 1-5 –¥–Ω–µ–π |
| `period_check` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞–ª–∞ | –î–µ–Ω—å –ø—Ä–æ–≥–Ω–æ–∑–∞ |
| `period_waiting` | –ó–∞–¥–µ—Ä–∂–∫–∞ 1-2 –¥–Ω—è | –ü—Ä–∏ –∑–∞–¥–µ—Ä–∂–∫–µ |
| `period_delay_warning` | –ó–∞–¥–µ—Ä–∂–∫–∞ 3+ –¥–Ω–µ–π | –ü—Ä–∏ —Å–µ—Ä—å—ë–∑–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ |
| `period_confirmed_day0` | –ü–µ—Ä–≤—ã–π –¥–µ–Ω—å | –î–µ–Ω—å 1 (–æ—Ç–º–µ—á–µ–Ω) |
| `period_confirmed_day1` | –í—Ç–æ—Ä–æ–π –¥–µ–Ω—å | –î–µ–Ω—å 2 |
| `period_confirmed_day2` | –¢—Ä–µ—Ç–∏–π –¥–µ–Ω—å | –î–µ–Ω—å 3 |
| `birthday` | –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è | 12 –∞–ø—Ä–µ–ª—è |

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ–∫—Å—Ç–∞–º

### Title (–ó–∞–≥–æ–ª–æ–≤–æ–∫)
- **–ú–∞–∫—Å–∏–º—É–º:** 40 —Å–∏–º–≤–æ–ª–æ–≤
- **–§–æ—Ä–º–∞—Ç:**
  - `morning_brief`: 2-3 —Å–ª–æ–≤–∞ –ø—Ä–æ –≤–∞–π–± –¥–Ω—è
  - –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã: –í—ã–º—ã—à–ª–µ–Ω–Ω–æ–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (1-3 —Å–ª–æ–≤–∞)
- **–ó–∞–ø—Ä–µ—â–µ–Ω—ã –∏–º–µ–Ω–∞:** –ò–≥–æ—Ä—å, –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω, –°—Ç–∞—Å
- **–ë–µ–∑ —ç–º–æ–¥–∑–∏** –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ

### Body (–¢–µ–ª–æ)
- **–ú–∞–∫—Å–∏–º—É–º:** 120 —Å–∏–º–≤–æ–ª–æ–≤ (–≤–∫–ª—é—á–∞—è —ç–º–æ–¥–∑–∏)
- **–§–æ—Ä–º–∞—Ç:** –ó–∞–∫–æ–Ω—á–µ–Ω–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞
- **–¢–æ–Ω:** –°–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–π, –∂–∏—Ç–µ–π—Å–∫–∏–π —è–∑—ã–∫
- **–≠–º–æ–¥–∑–∏:** 1-2 —à—Ç—É–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–û–±—Ä–∞—â–µ–Ω–∏–µ:** –ö –ù–∞—Å—Ç–µ –Ω–∞–ø—Ä—è–º—É—é (–ù–∞—Å—Ç—è, –ù–∞—Å—Ç—é—à, –ù–∞—Å—Ç—ë–Ω–∞)
- **–ú–∞—Ç:** –£–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º

## –õ–∏–º–∏—Ç—ã –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | Title max | Body max | –í—Å–µ–≥–æ |
|-----------|-----------|----------|-------|
| iOS | ~60 —Å–∏–º–≤–æ–ª–æ–≤ | ~170 —Å–∏–º–≤–æ–ª–æ–≤ | ~230 |
| Android | ~65 —Å–∏–º–≤–æ–ª–æ–≤ | ~240 —Å–∏–º–≤–æ–ª–æ–≤ | ~305 |
| **Nastia** | **40** | **120** | **160** |

–ù–∞—à–∏ –ª–∏–º–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.

## –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ GitHub Action:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Actions** ‚Üí **Send Push Notifications**
2. –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —à–∞–≥–∞ **Send notifications**

–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç:
- –ö–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- ID –∫–∞–∂–¥–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API (`test-api-health.js`)

**‚ö†Ô∏è –ì–ª–∞–≤–Ω—ã–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç!**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Claude API –∏–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fallback —Å–æ–æ–±—â–µ–Ω–∏—è:

**–ó–∞–ø—É—Å–∫:**
```bash
node scripts/test-api-health.js
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- Claude API –¥–æ—Å—Ç—É–ø–µ–Ω?
- OpenAI API –¥–æ—Å—Ç—É–ø–µ–Ω (fallback)?
- –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã?
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å fallback —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã "–ø—Ä–∏—Ö–æ–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API

```bash
node scripts/test-api-health.js
```

**–ï—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
‚ö†Ô∏è  –ö–†–ò–¢–ò–ß–ù–û: –û–±–∞ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã!

–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:
  1. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FALLBACK —Å–æ–æ–±—â–µ–Ω–∏—è
  2. –ö–ê–ñ–î–´–ô –î–ï–ù–¨ –ø—Ä–∏—Ö–æ–¥—è—Ç –û–î–ò–ù–ê–ö–û–í–´–ï —Ç–µ–∫—Å—Ç—ã
```

**–†–µ—à–µ–Ω–∏–µ:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CLAUDE_API_KEY –≤ GitHub Secrets

**–ï—Å–ª–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
‚úÖ –û–¢–õ–ò–ß–ù–û: Claude API —Ä–∞–±–æ—Ç–∞–µ—Ç!

–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
```

–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —à–∞–≥—É 2.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é

```bash
node scripts/test-integration.js
```

**–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω:**
- –ü—Ä–∏—á–∏–Ω–∞: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å–ª–æ–º–∞–Ω–∞
- –†–µ—à–µ–Ω–∏–µ: –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≤–µ—Ç–∫–µ `claude/fix-duplicate-reminders-...`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é

```bash
export CLAUDE_API_KEY=sk-ant-...
node scripts/test-real-generation.js
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ 2 —Ä–∞–∑–∞ - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏.

## Roadmap —Ç–µ—Å—Ç–æ–≤

- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ (unit + integration)
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ API health
- [x] –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è fallback —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –†–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Claude API
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö 11 —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ (40/120 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] –¢–µ—Å—Ç—ã –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö –∏–º—ë–Ω
- [ ] Performance —Ç–µ—Å—Ç—ã
